function URShift(e,r){return e>=0?e>>r:(e>>r)+(2<<~r)}qrcode={},qrcode.imagedata=null,qrcode.width=0,qrcode.height=0,qrcode.qrCodeSymbol=null,qrcode.debug=!1,qrcode.maxImgSize=1048576,qrcode.sizeOfDataLengthInfo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]],qrcode.callback=null,qrcode.decode=function(e){if(0==arguments.length){var r=document.getElementById("qr-canvas"),o=r.getContext("2d");return qrcode.width=r.width,qrcode.height=r.height,qrcode.imagedata=o.getImageData(0,0,qrcode.width,qrcode.height),qrcode.result=qrcode.process(o),null!=qrcode.callback&&qrcode.callback(qrcode.result),qrcode.result}var t=new Image;t.crossOrigin="Anonymous",t.onload=function(){var e=document.createElement("canvas"),r=e.getContext("2d"),o=t.height,d=t.width;if(t.width*t.height>qrcode.maxImgSize){var a=t.width/t.height;o=Math.sqrt(qrcode.maxImgSize/a),d=a*o}e.width=d,e.height=o,r.drawImage(t,0,0,e.width,e.height),qrcode.width=e.width,qrcode.height=e.height;try{qrcode.imagedata=r.getImageData(0,0,e.width,e.height)}catch(e){return qrcode.result="Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!",void(null!=qrcode.callback&&qrcode.callback(qrcode.result))}try{qrcode.result=qrcode.process(r)}catch(e){console.log(e),qrcode.result="error decoding QR Code"}null!=qrcode.callback&&qrcode.callback(qrcode.result)},t.src=e},qrcode.isUrl=function(e){var r=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return r.test(e)},qrcode.decode_url=function(e){var r="";try{r=escape(e)}catch(o){console.log(o),r=e}var o="";try{o=decodeURIComponent(r)}catch(e){console.log(e),o=r}return o},qrcode.decode_utf8=function(e){return qrcode.isUrl(e)?qrcode.decode_url(e):e},qrcode.process=function(e){var r=(new Date).getTime(),o=qrcode.grayScaleToBitmap(qrcode.grayscale());if(qrcode.debug){for(var t=0;t<qrcode.height;t++)for(var d=0;d<qrcode.width;d++){var a=4*d+t*qrcode.width*4;qrcode.imagedata.data[a]=(o[d+t*qrcode.width],0),qrcode.imagedata.data[a+1]=(o[d+t*qrcode.width],0),qrcode.imagedata.data[a+2]=o[d+t*qrcode.width]?255:0}e.putImageData(qrcode.imagedata,0,0)}var c=new Detector(o),i=c.detect();qrcode.debug&&e.putImageData(qrcode.imagedata,0,0);for(var h=Decoder.decode(i.bits),n=h.DataByte,q="",g=0;g<n.length;g++)for(var l=0;l<n[g].length;l++)q+=String.fromCharCode(n[g][l]);var u=(new Date).getTime(),f=u-r;return console.log(f),qrcode.decode_utf8(q)},qrcode.getPixel=function(e,r){if(qrcode.width<e)throw"point error";if(qrcode.height<r)throw"point error";return point=4*e+r*qrcode.width*4,p=(33*qrcode.imagedata.data[point]+34*qrcode.imagedata.data[point+1]+33*qrcode.imagedata.data[point+2])/100,p},qrcode.binarize=function(e){for(var r=new Array(qrcode.width*qrcode.height),o=0;o<qrcode.height;o++)for(var t=0;t<qrcode.width;t++){var d=qrcode.getPixel(t,o);r[t+o*qrcode.width]=d<=e}return r},qrcode.getMiddleBrightnessPerArea=function(e){for(var r=4,o=Math.floor(qrcode.width/r),t=Math.floor(qrcode.height/r),d=new Array(r),a=0;a<r;a++){d[a]=new Array(r);for(var c=0;c<r;c++)d[a][c]=new Array(0,0)}for(var i=0;i<r;i++)for(var h=0;h<r;h++){d[h][i][0]=255;for(var n=0;n<t;n++)for(var q=0;q<o;q++){var g=e[o*h+q+(t*i+n)*qrcode.width];g<d[h][i][0]&&(d[h][i][0]=g),g>d[h][i][1]&&(d[h][i][1]=g)}}for(var l=new Array(r),u=0;u<r;u++)l[u]=new Array(r);for(var i=0;i<r;i++)for(var h=0;h<r;h++)l[h][i]=Math.floor((d[h][i][0]+d[h][i][1])/2);return l},qrcode.grayScaleToBitmap=function(e){for(var r=qrcode.getMiddleBrightnessPerArea(e),o=r.length,t=Math.floor(qrcode.width/o),d=Math.floor(qrcode.height/o),a=new Array(qrcode.height*qrcode.width),c=0;c<o;c++)for(var i=0;i<o;i++)for(var h=0;h<d;h++)for(var n=0;n<t;n++)a[t*i+n+(d*c+h)*qrcode.width]=e[t*i+n+(d*c+h)*qrcode.width]<r[i][c];return a},qrcode.grayscale=function(){for(var e=new Array(qrcode.width*qrcode.height),r=0;r<qrcode.height;r++)for(var o=0;o<qrcode.width;o++){var t=qrcode.getPixel(o,r);e[o+r*qrcode.width]=t}return e},Array.prototype.remove=function(e,r){var o=this.slice((r||e)+1||this.length);return this.length=e<0?this.length+e:e,this.push.apply(this,o)};