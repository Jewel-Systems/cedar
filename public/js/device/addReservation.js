$(document).ready(function(){$("form#reserve").submit(function(e){var t=$(this).serializeArray(),r=new Date(t[0].value),s=new Date(t[1].value);$.ajax({url:domain+"reservation",type:"POST",data:'{"start_time" : "'+setStDateTime(r.getDate(),r.getMonth()+1,r.getFullYear(),r.getHours(),r.getMinutes(),r.getSeconds())+'", "end_time" : "'+setStDateTime(s.getDate(),s.getMonth()+1,s.getFullYear(),s.getHours(),s.getMinutes(),s.getSeconds())+'", "class_id" : '+t[2].value+', "type" : "'+t[3].value+'", "count" : '+t[4].value+', "user_id" : '+sessionStorage.user_id+', "safe_zone" : "'+t[5].value+'"}',contentType:"application/json",success:function(e,t,r){$(".device-reservations tbody").empty(),getReservations(),statusMsg("Devices Reserved"),$("div#reserveDevice.modal").modal("toggle")},error:function(e,t,r){var s=JSON.parse(e.responseText);1==s.error?(errorMsg("A reservation is already in place during this time period or you have selected too many devices."),$("div#reserveDevice.modal").modal("toggle")):(console.log("2 error!"),errorMsg("Something went wrong reserving devices, please contact the administrator."),$("div#reserveDevice.modal").modal("toggle"))}}),e.preventDefault()})});